<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Smart Trader – 4개 사이트 연동 테스트</title>
  <style>
    body{font-family:system-ui, -apple-system, Segoe UI, Roboto, Arial; margin:0; padding:16px; line-height:1.4;}
    h2{margin-top:24px; border-bottom:1px solid #eee; padding-bottom:6px;}
    .row{display:flex; flex-wrap:wrap; gap:8px; align-items:center;}
    input, button{padding:6px 8px; font-size:14px;}
    pre{white-space:pre-wrap; background:#fafafa; border:1px solid #eee; padding:8px; border-radius:6px;}
    canvas{width:100%; height:180px; border:1px solid #eee; border-radius:6px;}
    .grid{display:grid; grid-template-columns: 1fr 1fr; gap:12px;}
    .card{border:1px solid #eee; border-radius:10px; padding:12px;}
    .muted{color:#666; font-size:12px;}
  </style>
</head>
<body>
  <h1>Smart Trader – 핵심 연동 점검</h1>
  <div id="err" style="display:none;color:#b00;font-weight:600;"></div>

  <h2>1) Yahoo Finance</h2>
  <div class="row">
    <input id="yhTicker" placeholder="예: AAPL 또는 USDKRW=X"/>
    <button id="btnQuote">시세</button>
    <button id="btnDiv">배당(12y)</button>
    <button id="btnSum">요약</button>
    <button id="btnChart">차트(6mo)</button>
  </div>
  <pre id="yhOut" class="card"></pre>
  <canvas id="yhChart"></canvas>

  <h2>2) Dataroma Top Tickers</h2>
  <div class="row">
    <button id="btnDR">가져오기</button>
  </div>
  <pre id="drOut" class="card"></pre>

  <h2>3) Macrotrends 지표</h2>
  <div class="row">
    <input id="mtTicker" placeholder="예: AAPL"/>
    <button id="btnMT">가져오기</button>
  </div>
  <pre id="mtOut" class="card"></pre>

  <h2>4) Value Investors Club (공개 목록)</h2>
  <div class="row">
    <button id="btnVIC">가져오기</button><span class="muted">* 상세 본문은 로그인 필요</span>
  </div>
  <pre id="vicOut" class="card"></pre>

  <script src="assets/app.js"></script>

  <h2>가격 하락 알림 (테스트)</h2>
  <div class="row">
    <input id="alTicker" placeholder="Ticker (예: MO)"/>
    <input id="alDrop" placeholder="하락% (예: 1)"/>
    <input id="alContact" placeholder="연락처 (예: 010...)"/>
    <button id="alSave">저장</button>
  </div>
  <pre id="alOut" class="card"></pre>

  <h2>가치 스크리너 (고정 조건)</h2>
  <div class="card">
    <div class="muted">조건: PBR ≤ 1.5, PSR ≥ 3, ROE ≥ 15, PER ≤ 15 (고정)</div>
    <div class="row" style="margin-top:8px">
      <input id="scTickers" placeholder="티커 콤마구분(선택, 미입력시 Dataroma 상위)"/>
      <button id="scRun">추천 종목</button>
      <button id="scCsv">CSV</button>
      <button id="scXls">Excel</button>
    </div>
    <table style="width:100%; border-collapse:collapse; margin-top:8px" border="1" cellpadding="6">
      <thead><tr>
        <th>Ticker</th><th>Price</th><th>PER</th><th>PBR</th><th>PSR</th><th>ROE</th><th>Sector</th><th>MarketCap</th>
      </tr></thead>
      <tbody id="scBody"><tr><td colspan="8">로딩 대기</td></tr></tbody>
    </table>
  </div>
</body>
</html>
